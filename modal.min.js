!function(o){let i="black",e=[],t,d=!0;function n(o,i){let t=o.getContext("2d");i&&t.clearRect(0,0,o.width,o.height),function o(){for(let i of e)t.fillStyle=i[0]?"black":"green",t.fillRect(i[1],i[2],25,25)}()}$myModal=function(){($overlay=o("<div></div>").appendTo("body")).prop("id","myOverlay"),$style=o("<style>#myModal,#myModal #mySidebar div:nth-child(3){background:#fff}#myModal button,#myModal canvas,#myOverlay{position:absolute;top:0}#myOverlay{width:100%;height:100%;background:#0003;left:0;z-index:999999}#myModal{z-index:9999999;position:fixed;width:600px;height:600px;margin:auto;top:0;left:0;right:0;bottom:0}#myModal button{right:0;font-size:28px}#myModal #mySidebar{border:1px solid #000;width:30px;height:105px;padding:15px 0 0 5px}#myModal #mySidebar div{width:23px;height:23px;cursor:pointer;outline:#000 solid 2px;margin-bottom:8px}#myModal #mySidebar div:first-child{background:#000}#myModal #mySidebar div:nth-child(2){background:green}#myModal #mySidebar div.active{outline:#f00 solid 2px}#myModal canvas{background:#f0f0f0;left:37px}</style>").appendTo("body"),($window=o("<div></div>").appendTo("body")).prop("id","myModal"),($sidebar=o("<div></div>").appendTo("#myModal")).prop("id","mySidebar"),$mod1=o("<div></div>").appendTo("#mySidebar"),$mod2=o("<div></div>").appendTo("#mySidebar"),$del=o("<div></div>").appendTo("#mySidebar"),($closeBtn=o("<button>x</button>").appendTo("#myModal")).on("click",function(){$myModal.Close()}),$mod1.on("click",function(){$mod1.prop("class","active"),$mod2.prop("class",""),$del.prop("class",""),i="black"}),$mod1.prop("class","active"),$mod2.on("click",function(){$mod1.prop("class",""),$mod2.prop("class","active"),$del.prop("class",""),i="green"}),$del.on("click",function(){$mod1.prop("class",""),$mod2.prop("class",""),$del.prop("class","active"),i="white"}),($area=o('<canvas width="533" height="600"></canvas>').appendTo("#myModal")).on("click",function(){this.addEventListener("mousedown",function(o){t=o});let{x:o,y:l}=function o(i,e){if(!d){let t=i.getBoundingClientRect(),n=e.clientX-t.left,l=e.clientY-t.top;return{x:n,y:l}}return!1}(this,t);"white"===i?(e=e.filter(i=>i[1]>=o+25||i[1]<=o-25||i[2]>=l+25||i[2]<=l-25),n(this,!0)):(e.push(["black"===i?1:0,o-12,l-12]),n(this,!1))}),$area.click(),d=!1,e.splice(0,e.length)},$myModal.Close=function(){$overlay.remove(),$style.remove(),$window.remove(),e.length>0?(console.log("--------------RESULT--------------"),e.map((o,i)=>{let e=1===o[0]?"black":"green",t=o[1],d=o[2];console.log(`${i+1} ${e} x=${t} y=${d}`)}),console.log("--------------RESULT--------------")):console.log("no results")}}(jQuery);
